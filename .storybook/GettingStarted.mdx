import { Meta } from '@storybook/blocks';

<Meta title="Getting Started" />

# Getting Started with USWDS Web Components

Complete guide for developers to integrate USWDS Web Components into their projects.

## üì¶ Installation

USWDS Web Components uses a **category-based monorepo architecture** that allows you to install only the components you need, resulting in 50-80% smaller bundle sizes.

### Choosing Your Installation Strategy

**Option 1: Category Packages (Recommended)**
Best for production applications. Install only the component categories you need.

**Option 2: Meta Package**
Best for prototyping or applications using many components across all categories.

**Option 3: Individual Components**
Best for absolute minimal bundle size when using only 1-2 components.

### Using npm

**Category packages (recommended):**
```bash
# Install specific categories
npm install @uswds-wc/forms @uswds-wc/actions lit

# Or install core + categories
npm install @uswds-wc/core @uswds-wc/navigation lit
```

**Meta package (all components):**
```bash
npm install @uswds-wc lit
```

### Using yarn

**Category packages:**
```bash
yarn add @uswds-wc/forms @uswds-wc/actions lit
```

**Meta package:**
```bash
yarn add @uswds-wc lit
```

### Using pnpm (Recommended)

**Category packages:**
```bash
pnpm add @uswds-wc/forms @uswds-wc/actions lit
```

**Meta package:**
```bash
pnpm add @uswds-wc lit
```

### Available Packages

| Package | Components | Size | Description |
|---------|-----------|------|-------------|
| `@uswds-wc/core` | Utilities | ~25 KB | Base utilities and styles (always required) |
| `@uswds-wc/forms` | 15 | ~45 KB | Form inputs and validation |
| `@uswds-wc/navigation` | 8 | ~32 KB | Headers, footers, menus |
| `@uswds-wc/data-display` | 8 | ~28 KB | Tables, cards, lists |
| `@uswds-wc/feedback` | 5 | ~18 KB | Alerts, modals, tooltips |
| `@uswds-wc/actions` | 4 | ~12 KB | Buttons, links, search |
| `@uswds-wc/layout` | 4 | ~15 KB | Grid, containers, spacing |
| `@uswds-wc/structure` | 1 | ~8 KB | Accordion |
| `@uswds-wc` | All 45 | ~475 KB | Meta package (all components) |

## üöÄ Quick Start

### Option 1: Category Imports (Recommended)

Import from specific category packages for optimal bundle size:

```javascript
// Import from categories you need
import { USAButton } from '@uswds-wc/actions';
import { USAAlert } from '@uswds-wc/feedback';
import { USATextInput } from '@uswds-wc/forms';

// Import USWDS styles
import '@uswds-wc/core/styles.css';
```

Then use components in your HTML:

```html
<usa-button variant="default">Click me</usa-button>
<usa-alert type="success" heading="Success!">
  Your action was completed successfully.
</usa-alert>
<usa-text-input label="Name" name="name"></usa-text-input>
```

### Option 2: Meta Package (Convenience)

Import from the meta package to use all components:

```javascript
// Import from meta package
import { USAButton, USAAlert, USATextInput } from '@uswds-wc';

// Import USWDS styles
import '@uswds-wc/core/styles.css';
```

Then use in your HTML:

```html
<usa-button variant="default">Click me</usa-button>
<usa-alert type="success" heading="Success!">
  Your action was completed successfully.
</usa-alert>
```

### Option 3: Individual Components (Maximum Optimization)

Import individual components for absolute minimal bundle:

```javascript
// Import individual components
import { USAButton } from '@uswds-wc/actions/components/button';
import { USAAlert } from '@uswds-wc/feedback/components/alert';

// Import USWDS styles
import '@uswds-wc/core/styles.css';

// Components are automatically registered when imported
```

Then use in your HTML:

```html
<usa-button variant="default">Click me</usa-button>
<usa-alert type="success" heading="Success!">
  Your action was completed successfully.
</usa-alert>
```

## üé® USWDS CSS Setup

USWDS Web Components require the USWDS CSS to be loaded in your application.

### Option 1: CDN (Quickest)

Add to your HTML `<head>`:

```html
<link
  rel="stylesheet"
  href="https://unpkg.com/@uswds/uswds@latest/dist/css/uswds.min.css"
/>
```

### Option 2: NPM Package (Recommended)

Install USWDS:

```bash
npm install @uswds/uswds
```

Import in your application:

```javascript
import '@uswds/uswds/dist/css/uswds.min.css';
```

Or link in your HTML:

```html
<link
  rel="stylesheet"
  href="/node_modules/@uswds/uswds/dist/css/uswds.min.css"
/>
```

### Option 3: Compile Custom USWDS Theme

For advanced customization, compile USWDS from source:

```bash
npm install @uswds/uswds sass
```

Create `styles/uswds-theme.scss`:

```scss
// USWDS theme settings
@use 'uswds-core' with (
  $theme-color-primary: 'blue-60v',
  $theme-color-secondary: 'red-50v'
);
```

Import in your application:

```javascript
import './styles/uswds-theme.scss';
```

## üîß Framework Integration

### Vanilla JavaScript

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>USWDS Web Components</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/@uswds/uswds@latest/dist/css/uswds.min.css"
    />
  </head>
  <body>
    <usa-button variant="default">Click me</usa-button>
    <usa-alert type="success" heading="Success!">
      Your action was completed successfully.
    </usa-alert>

    <script type="module">
      // Import from category packages (recommended)
      import { USAButton } from 'https://esm.sh/@uswds-wc/actions';
      import { USAAlert } from 'https://esm.sh/@uswds-wc/feedback';

      // Or import from meta package
      // import { USAButton, USAAlert } from 'https://esm.sh/@uswds-wc';

      // Access component programmatically
      const button = document.querySelector('usa-button');
      button.addEventListener('click', () => {
        console.log('Button clicked!');
      });
    </script>
  </body>
</html>
```

### React

Web Components work seamlessly with React 19+. For React 18 and below, use refs for events.

#### React 19+ (Recommended)

```jsx
// Import from category packages (recommended)
import { USAButton } from '@uswds-wc/actions';
import { USAAlert } from '@uswds-wc/feedback';

// Or import from meta package
// import { USAButton, USAAlert } from '@uswds-wc';

// Import styles
import '@uswds-wc/core/styles.css';

function App() {
  const handleButtonClick = () => {
    console.log('Button clicked!');
  };

  return (
    <div>
      <usa-button variant="default" onClick={handleButtonClick}>
        Click me
      </usa-button>
      <usa-alert type="success" heading="Success!">
        Your action was completed successfully.
      </usa-alert>
    </div>
  );
}

export default App;
```

#### React 18 and Below

```jsx
import { useRef, useEffect } from 'react';

// Import from category packages (recommended)
import { USAButton } from '@uswds-wc/actions';
import { USAAlert } from '@uswds-wc/feedback';

// Import styles
import '@uswds-wc/core/styles.css';

function App() {
  const buttonRef = useRef(null);

  useEffect(() => {
    const button = buttonRef.current;
    if (button) {
      const handleClick = () => {
        console.log('Button clicked!');
      };
      button.addEventListener('click', handleClick);
      return () => button.removeEventListener('click', handleClick);
    }
  }, []);

  return (
    <div>
      <usa-button ref={buttonRef} variant="default">
        Click me
      </usa-button>
      <usa-alert type="success" heading="Success!">
        Your action was completed successfully.
      </usa-alert>
    </div>
  );
}

export default App;
```

#### TypeScript Support

For TypeScript projects, add type definitions:

```typescript
// types/web-components.d.ts
declare namespace JSX {
  interface IntrinsicElements {
    'usa-button': any;
    'usa-alert': any;
    // Add other components as needed
  }
}
```

### Vue.js

Vue 3 has excellent web component support.

#### Vue 3

```vue
<script setup>
// Import from category packages (recommended)
import { USAButton } from '@uswds-wc/actions';
import { USAAlert } from '@uswds-wc/feedback';

// Or import from meta package
// import { USAButton, USAAlert } from '@uswds-wc';

// Import styles
import '@uswds-wc/core/styles.css';

const handleButtonClick = () => {
  console.log('Button clicked!');
};
</script>

<template>
  <div>
    <usa-button variant="default" @click="handleButtonClick">
      Click me
    </usa-button>
    <usa-alert type="success" heading="Success!">
      Your action was completed successfully.
    </usa-alert>
  </div>
</template>
```

#### Vue 3 TypeScript

```typescript
// vite.config.ts or vue.config.js
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';

export default defineConfig({
  plugins: [
    vue({
      template: {
        compilerOptions: {
          // Treat all tags starting with 'usa-' as custom elements
          isCustomElement: (tag) => tag.startsWith('usa-'),
        },
      },
    }),
  ],
});
```

### Angular

Angular requires configuration to recognize custom elements.

#### Module Setup

```typescript
// app.module.ts
import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';

// Import from category packages (recommended)
import { USAButton } from '@uswds-wc/actions';
import { USAAlert } from '@uswds-wc/feedback';

// Or import from meta package
// import { USAButton, USAAlert } from '@uswds-wc';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  schemas: [CUSTOM_ELEMENTS_SCHEMA], // Enable custom elements
  bootstrap: [AppComponent],
})
export class AppModule {}
```

#### Component Usage

```typescript
// app.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `
    <usa-button variant="default" (click)="handleButtonClick()">
      Click me
    </usa-button>
    <usa-alert type="success" heading="Success!">
      Your action was completed successfully.
    </usa-alert>
  `,
  styleUrls: ['./app.component.css'],
})
export class AppComponent {
  handleButtonClick() {
    console.log('Button clicked!');
  }
}
```

#### Styles Setup

```typescript
// angular.json
{
  "projects": {
    "your-app": {
      "architect": {
        "build": {
          "options": {
            "styles": [
              "node_modules/@uswds/uswds/dist/css/uswds.min.css",
              "src/styles.css"
            ]
          }
        }
      }
    }
  }
}
```

### Svelte

Svelte works great with web components.

```svelte
<script>
  // Import from category packages (recommended)
  import { USAButton } from '@uswds-wc/actions';
  import { USAAlert } from '@uswds-wc/feedback';

  // Or import from meta package
  // import { USAButton, USAAlert } from '@uswds-wc';

  // Import styles
  import '@uswds-wc/core/styles.css';

  function handleButtonClick() {
    console.log('Button clicked!');
  }
</script>

<usa-button variant="default" on:click={handleButtonClick}>
  Click me
</usa-button>
<usa-alert type="success" heading="Success!">
  Your action was completed successfully.
</usa-alert>
```

#### Svelte Configuration

```javascript
// svelte.config.js
export default {
  compilerOptions: {
    customElement: true,
  },
};
```

## üìã Component Examples

### Buttons

```html
<!-- Default button -->
<usa-button variant="default">Default</usa-button>

<!-- Primary button -->
<usa-button variant="primary">Primary</usa-button>

<!-- Secondary button -->
<usa-button variant="secondary">Secondary</usa-button>

<!-- Accent cool button -->
<usa-button variant="accent-cool">Accent Cool</usa-button>

<!-- Base button -->
<usa-button variant="base">Base</usa-button>

<!-- Disabled button -->
<usa-button variant="default" disabled>Disabled</usa-button>

<!-- Button with icon -->
<usa-button variant="default">
  <usa-icon name="search"></usa-icon>
  Search
</usa-button>
```

### Alerts

```html
<!-- Success alert -->
<usa-alert type="success" heading="Success status">
  You have successfully completed the action.
</usa-alert>

<!-- Warning alert -->
<usa-alert type="warning" heading="Warning status">
  This action requires your attention.
</usa-alert>

<!-- Error alert -->
<usa-alert type="error" heading="Error status">
  There was a problem with your submission.
</usa-alert>

<!-- Info alert -->
<usa-alert type="info" heading="Informative status">
  Here is some information you should know.
</usa-alert>

<!-- Slim alert -->
<usa-alert type="success" slim>Action completed successfully.</usa-alert>

<!-- Alert without heading -->
<usa-alert type="info"> This is an alert without a heading. </usa-alert>
```

### Forms

```html
<!-- Text input -->
<usa-text-input
  label="First name"
  name="first-name"
  type="text"
  required
></usa-text-input>

<!-- Text input with hint -->
<usa-text-input
  label="Email address"
  name="email"
  type="email"
  hint="For example: name@example.com"
  required
></usa-text-input>

<!-- Textarea -->
<usa-textarea
  label="Comments"
  name="comments"
  maxlength="500"
></usa-textarea>

<!-- Select dropdown -->
<usa-select label="State" name="state" required>
  <option value="">- Select -</option>
  <option value="AL">Alabama</option>
  <option value="AK">Alaska</option>
  <option value="AZ">Arizona</option>
</usa-select>

<!-- Checkbox -->
<usa-checkbox label="I agree to the terms" name="terms" required></usa-checkbox>

<!-- Radio buttons -->
<usa-radio name="delivery" value="standard" label="Standard (5-7 days)" checked>
</usa-radio>
<usa-radio name="delivery" value="express" label="Express (2-3 days)"></usa-radio>

<!-- Date picker -->
<usa-date-picker
  label="Appointment date"
  name="appointment"
  required
></usa-date-picker>
```

### Navigation

```html
<!-- Header with navigation -->
<usa-header>
  <div class="usa-nav-container">
    <div class="usa-navbar">
      <usa-logo>
        <em class="usa-logo__text">Project Title</em>
      </usa-logo>
    </div>
    <usa-nav>
      <usa-nav-primary>
        <usa-nav-primary-item>
          <a href="/" class="usa-nav-link"> <span>Home</span> </a>
        </usa-nav-primary-item>
        <usa-nav-primary-item>
          <a href="/about" class="usa-nav-link"> <span>About</span> </a>
        </usa-nav-primary-item>
      </usa-nav-primary>
    </usa-nav>
  </div>
</usa-header>

<!-- Breadcrumb -->
<usa-breadcrumb>
  <usa-breadcrumb-item href="/">Home</usa-breadcrumb-item>
  <usa-breadcrumb-item href="/section">Section</usa-breadcrumb-item>
  <usa-breadcrumb-item current>Current page</usa-breadcrumb-item>
</usa-breadcrumb>

<!-- Side navigation -->
<usa-side-navigation>
  <usa-side-nav-item href="#section-1" current>Section 1</usa-side-nav-item>
  <usa-side-nav-item href="#section-2">Section 2</usa-side-nav-item>
  <usa-side-nav-item href="#section-3">Section 3</usa-side-nav-item>
</usa-side-navigation>
```

### Interactive Components

```html
<!-- Accordion -->
<usa-accordion>
  <usa-accordion-item heading="First Amendment" expanded>
    Congress shall make no law respecting an establishment of religion...
  </usa-accordion-item>
  <usa-accordion-item heading="Second Amendment">
    A well regulated Militia, being necessary to the security of a free State...
  </usa-accordion-item>
</usa-accordion>

<!-- Modal -->
<usa-modal
  id="example-modal"
  heading="Are you sure you want to continue?"
  aria-describedby="modal-description"
>
  <p id="modal-description">This action cannot be undone.</p>
  <usa-button-group slot="footer">
    <usa-button variant="default" data-close-modal>Cancel</usa-button>
    <usa-button variant="primary">Continue</usa-button>
  </usa-button-group>
</usa-modal>

<!-- Button to open modal -->
<usa-button variant="primary" data-open-modal="example-modal">
  Open modal
</usa-button>

<!-- Tooltip -->
<usa-button variant="default" data-tooltip="This is helpful information">
  Hover for tooltip
</usa-button>
```

## üéØ Working with Component Properties

### Setting Properties via Attributes

Most properties can be set using HTML attributes:

```html
<usa-button variant="primary" size="big" disabled> Big primary button </usa-button>

<usa-alert type="success" heading="Success!" slim no-icon>
  Slim alert without icon
</usa-alert>
```

### Setting Properties via JavaScript

Properties can also be set programmatically:

```javascript
const button = document.querySelector('usa-button');
button.variant = 'secondary';
button.disabled = true;

const alert = document.querySelector('usa-alert');
alert.type = 'warning';
alert.heading = 'Warning!';
```

### Listening to Events

Components emit standard DOM events:

```javascript
const button = document.querySelector('usa-button');
button.addEventListener('click', (event) => {
  console.log('Button clicked!', event);
});

const accordion = document.querySelector('usa-accordion');
accordion.addEventListener('usa-accordion-change', (event) => {
  console.log('Accordion state changed:', event.detail);
});
```

## üîç Accessibility

All USWDS Web Components are built with accessibility as a priority:

- **WCAG 2.1 Level AA Compliant** - Meet accessibility standards
- **Section 508 Compliant** - Government accessibility requirements
- **Keyboard Navigation** - All interactive components are keyboard accessible
- **Screen Reader Support** - Proper ARIA labels and semantic HTML
- **Focus Management** - Visible focus indicators and logical focus order

### Accessibility Best Practices

```html
<!-- Always provide labels for form inputs -->
<usa-text-input label="Full name" name="name" required></usa-text-input>

<!-- Use descriptive button text -->
<usa-button variant="primary">Submit application</usa-button>
<!-- Not: <usa-button variant="primary">Click here</usa-button> -->

<!-- Provide alt text for images -->
<img src="logo.png" alt="Company logo" />

<!-- Use semantic HTML -->
<usa-header>
  <nav aria-label="Primary navigation">
    <!-- Navigation items -->
  </nav>
</usa-header>
```

## üì¶ Bundle Size Optimization

The monorepo architecture provides **automatic bundle size optimization** through category-based packages.

### Choose the Right Strategy

**Production Applications (Recommended)**
```javascript
// ‚úÖ Category packages: ~120-180 KB for typical app
import { USAButton, USAButtonGroup } from '@uswds-wc/actions';
import { USATextInput, USACheckbox, USASelect } from '@uswds-wc/forms';
import { USAAlert } from '@uswds-wc/feedback';
import '@uswds-wc/core/styles.css';
```

**Prototyping / Many Components**
```javascript
// ‚ö†Ô∏è Meta package: ~475 KB (all components)
import { USAButton, USATextInput, USAAlert } from '@uswds-wc';
import '@uswds-wc/core/styles.css';
```

**Minimal Applications**
```javascript
// ‚úÖ Individual components: ~50-80 KB
import { USAButton } from '@uswds-wc/actions/components/button';
import { USAAlert } from '@uswds-wc/feedback/components/alert';
import '@uswds-wc/core/styles.css';
```

### Bundle Size Comparison

| Strategy | Example Use Case | Bundle Size | Savings |
|----------|-----------------|-------------|---------|
| Meta package | Dashboard with 20+ components | ~475 KB | Baseline |
| Category packages | Form-heavy app | ~180 KB | 62% smaller |
| Category packages | Simple landing page | ~120 KB | 75% smaller |
| Individual imports | Marketing page | ~50 KB | 89% smaller |

### Lazy Loading Categories

Load component categories on-demand for even better performance:

```javascript
// Load category when needed
async function loadFormComponents() {
  const { USATextInput, USACheckbox, USASelect } = await import('@uswds-wc/forms');
  return { USATextInput, USACheckbox, USASelect };
}

// Use in route handler
router.get('/contact', async () => {
  await loadFormComponents();
  // Render contact form
});
```

### Lazy Loading Individual Components

Maximum optimization for critical paths:

```javascript
// Load component when user interaction requires it
async function loadModal() {
  const { USAModal } = await import('@uswds-wc/feedback/components/modal');
  return USAModal;
}

// Use in event handler
document.querySelector('#open-modal-btn').addEventListener('click', async () => {
  await loadModal();
  document.querySelector('usa-modal').open = true;
});
```

### Production Build Optimization

Configure your bundler to optimize category packages:

```javascript
// vite.config.js
export default {
  build: {
    minify: 'terser',
    target: 'es2020',
    rollupOptions: {
      output: {
        manualChunks: {
          // Split categories into separate chunks
          'uswds-actions': ['@uswds-wc/actions'],
          'uswds-forms': ['@uswds-wc/forms'],
          'uswds-feedback': ['@uswds-wc/feedback'],
          'uswds-navigation': ['@uswds-wc/navigation'],
        },
      },
    },
  },
};
```

### Real-World Bundle Size Wins

**Typical Form Application:**
- Before (meta package): 475 KB
- After (category packages): 180 KB
- **Savings: 295 KB (62% reduction)**

**Simple Landing Page:**
- Before (meta package): 475 KB
- After (individual imports): 50 KB
- **Savings: 425 KB (89% reduction)**

**Dashboard with Navigation:**
- Before (meta package): 475 KB
- After (navigation + actions + feedback): 62 KB
- **Savings: 413 KB (87% reduction)**

## üêõ Troubleshooting

### Components Not Rendering

**Problem:** Web components don't appear on the page.

**Solutions:**

1. Verify USWDS CSS is loaded:

```javascript
import '@uswds-wc/core/styles.css';
```

Or via CDN:

```html
<link
  rel="stylesheet"
  href="https://unpkg.com/@uswds/uswds@latest/dist/css/uswds.min.css"
/>
```

2. Ensure components are imported:

```javascript
// Category packages
import { USAButton } from '@uswds-wc/actions';

// Or meta package
import { USAButton } from '@uswds-wc';
```

3. Check browser console for errors

### Styling Issues

**Problem:** Components don't look like USWDS components.

**Solutions:**

1. Ensure USWDS CSS is loaded before components render
2. Check for CSS conflicts with existing styles
3. Verify USWDS version compatibility (3.13.0+)

### TypeScript Errors

**Problem:** TypeScript doesn't recognize web component tags.

**Solution:** Add type definitions:

```typescript
// types/web-components.d.ts
declare namespace JSX {
  interface IntrinsicElements {
    'usa-button': any;
    'usa-alert': any;
    'usa-text-input': any;
    // Add all components you use
  }
}
```

### React Event Handling (React 18-)

**Problem:** Events don't fire in React.

**Solution:** Use refs for event listeners in React 18 and below:

```jsx
import { useRef, useEffect } from 'react';

function Component() {
  const ref = useRef(null);

  useEffect(() => {
    const element = ref.current;
    const handler = (e) => console.log(e);
    element?.addEventListener('click', handler);
    return () => element?.removeEventListener('click', handler);
  }, []);

  return <usa-button ref={ref}>Click me</usa-button>;
}
```

## üìö Additional Resources

### Documentation

- **Component API Reference** - See Storybook documentation for detailed component APIs
- **USWDS Official Documentation** - https://designsystem.digital.gov/
- **Web Components Standard** - https://developer.mozilla.org/en-US/docs/Web/Web_Components
- **Lit Documentation** - https://lit.dev/

### Example Projects

- **Vanilla JS Example** - See `/examples/vanilla` (if available)
- **React Example** - See `/examples/react` (if available)
- **Vue Example** - See `/examples/vue` (if available)

### Support

- **GitHub Issues** - Report bugs or request features
- **Storybook** - Interactive component documentation
- **Component READMEs** - Detailed documentation for each component

## üöÄ Next Steps

1. **Explore Storybook** - Browse all available components and their variants
2. **Read Component READMEs** - Learn detailed usage for specific components
3. **Build Your First Page** - Start with simple components like buttons and alerts
4. **Review Accessibility** - Ensure your implementation meets accessibility standards
5. **Optimize Bundle Size** - Use tree shaking and lazy loading for production

---

**Ready to build accessible, government-compliant web applications with USWDS Web Components!**
