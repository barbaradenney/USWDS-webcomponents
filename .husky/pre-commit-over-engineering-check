#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Checking for over-engineering patterns..."

# Run over-engineering detection
npm run detect:over-engineering

# Exit with error code if violations found
if [ $? -ne 0 ]; then
  echo ""
  echo "❌ Over-engineering violations detected!"
  echo "📖 Please review the CLAUDE.md Over-Engineering Prevention Guidelines"
  echo "🛠️  Fix violations and commit again"
  echo ""
  exit 1
fi

echo "✅ No over-engineering patterns detected"